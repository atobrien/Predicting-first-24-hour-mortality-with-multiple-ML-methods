---
title: "feature_exploration"
output: html_document
---
```{r}
library(dplyr)
df <- read.csv(file='../data/260_1123cohort.csv',sep=',', header=TRUE, quote="\'", check.names = FALSE)

# pre process the names of columns
colnames(df) <- gsub('\"', '', colnames(df))
colnames(df)[1] <- "index"

#preprocess the names of rows
rownames(df) <- gsub('"', '', df$index)
drops <- c("index")
df <- df[ , !(names(df) %in% drops)]

#head of dataframe
df %>% head()
```

Preprocess the values of ICUSTAY_AGE_GROUP to get rid of the quotes:
```{r}
df$ICUSTAY_AGE_GROUP <- gsub('"', '', df$ICUSTAY_AGE_GROUP)
```


Visualization of missing data:
```{r}
library(Amelia)
missmap(df)
```

We can start working with columns that have less than 20% of missing data:
```{r}
threshold <- length(nrow(df))*0.20
df2 <- df[colSums(is.na(df)) < threshold]
summary(df2)
```

