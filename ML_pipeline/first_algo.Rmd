---
title: "Untitled"
output: html_document
---

```{r}
library(dplyr)
data <- read.csv("../data/cohort_preprocessed.csv")
data <- data %>% select(-c(X))
# rownames(data) <- data$icustay_id
data %>% head()
```

```{r}
# imbalanced dataset : 8% of target ==1
sum(data$icustay_expire_flag)/length(data$icustay_expire_flag)

# columns to standardize
col_to_standardize <- colnames(data)
col_to_standardize <- col_to_standardize[!col_to_standardize %in% c("icustay_id","icustay_expire_flag")]
col_to_standardize
```


Standardize data except icustay_id and icustay_expire_flag (target):
```{r}
library(caret)
preprocessParams <- preProcess(data[,col_to_standardize], method=c("center", "scale"))
transformed <- predict(preprocessParams, data[,col_to_standardize])
# transformed %>% head()
final <- cbind(transformed, data$icustay_expire_flag)
final %>% head()
```

